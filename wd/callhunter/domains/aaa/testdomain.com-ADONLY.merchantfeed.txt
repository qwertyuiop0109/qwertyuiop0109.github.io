//передача целей SaleStorm
//https://analytics.google.com/analytics/web/template?uid=B6Gz4uU7T8qGhrsqPPNZYA

//передача целей prom.ua
//https://analytics.google.com/analytics/web/template?uid=kQZeIN8zSsqZCnEzZ0sG1Q


// Файл настроек генерации фида мерчанта клиента

//Фиды генерируются раз в сутки по времени AdWords-аккаунта клиента
//Загружать фиды в мерчант нужно не реже чем раз в 30 дней, иначе реклама остановится
//Названия фидов начинаются с названия аккаунта в payments (включая ADONLY) для всех сайтов файла

//Любое изменение конфига приводит к немедленному обнулению текущего скана и формированию нового (при следующем старте, через час или меньше)
//но только, если изменения делались в настройках работающих фидов и сайтов (то есть, кроме изменения, добавления, удаления тестовых фидов/сайтов)
//Тестовые фиды или сайты перезапускаются всегда при каждом старте и запускаются только в режиме просмотра

//Не влияют на перескан параметры сайта title description notScanUrlsOnItemPages Debug_On MAX_CHECKED_URLS

//В тестовом режиме поисковые кампании не обрабатываются

//Если изменение настроек тестового или рабочего фида или сайта привело к ошибке действующего конфига, то
//рабочие запуски полностью остановятся до возвращения старого или корректного обновления конфига
//Поэтому измененные конфиги нужно предварительно проверять на тестовом парсере или в режиме просмотра

//Для того, что бы изменения конфигурации вступили в силу только после полного окончания работы текущего скана,
//необходимо добавить новый конфиг в туже папку под названием merchantfeed_new.txt (если окажется нерабочим, то переименуется в merchantfeed_newbad.txt)


[
	//настройки сканирования и парсинга одного сайта (начало блока)
	//можно копировать, изменяя значение ключа Id, если ручная нумерация Id
	{

		//'Id': '', // уникальный идентификатор сайта (значением может быть только строка или пусто)
					//автоматически назначается hostname из SITE (если параметр закомментиван или пустой)
					//можно указать любую строку символов, но тогда должен быть уникальный (если сайтов несколько)
					//если указать целочисленную Id-строку, то спереди автоматически будут добавлены две буквы: id
					//если уже настроено, то лучше не менять (измениться ссылка фида для загрузки в мерчант)

		'title': '', // название проекта/сайта (размещается в фиде)
				//этот параметр не влияет на перескан сайта

		'description': '', // описание проекта/сайта (размещается в фиде)
				//этот параметр не влияет на перескан сайта

		'SITE': 'https://krasivie-ludi.com.ua/', // стартовая страница сканирования для одного сайта
		'CHARSET': 'UTF-8', // если равен UTF-8 то пытаемся определять charset по заголовкам, иначе это жестко заданный чарсет



		//Прямое добавление ссылок в скан (перед сканом сайта, но после добавления ссылок из CSVSITE и SITE)
		//можно указывать абсолютные или относительные ссылки
		//некорректные протоколы/хосты ссылок выдают ошибку при чтении конфига. Дальше, при скане, ссылки из addscanUrls проверяются и отсеиваються как любые ссылки, найденные на страницах
		//'addscanUrls' : [
		//	'https://example.com/url1',
		//	'/url2',
		//],
		//этот параметр не имеет значения:
		//если задано 0 в parseUrls в CSVSITE (не парсить вообще никакие страницы для поиска ссылок) или задано 1 в notScanUrlsOnAnyPages
		//этот параметр обрабатывается:
		//если задано 1 в parseUrls в CSVSITE или отсутсвует CSVSITE и notScanUrlsOnAnyPages


		'timeHours': 'test', //часы генерации фидов сайта (через запятую) по времени AdWords-аккаунта клиента
				//если закомментированы или пусто, то это 0 часов
			     	//используются в фидах, в которых закомментирован аналогичный параметр фида
				//если в строке указано 'test', то в любой час запускать и создавать файлы, но только в режиме просмотра
				//Примечание по поводу добавления/удаления режима 'test':
				//если после запуска и перед/при завершении скрипта изменить "на лету" параметр на 'test' или наоборот,
				//то не запишуться фиды, которые должны были создаться до изменения параметра.
				//то есть, нужно дождаться полного завершения и сохранения фидов (если это важно),
				//прежде чем менять в timeHours режим, в котором сохраняются фиды (выполнение/просмотр)



		"all_fields_not_required": 1, //все поля фидов необязательны (для тестирования, 0 или 1)
			     	//параметр используется, если закомментирован аналогичный параметр фида
				//и если вычисленный timeHours для фида имеет значение test (иначе параметр игнорируется)


		//'startDays': '', //дни месяца генерации фидов сайта (через запятую в строке)
				//может выполнять запуск генерации чаще чем указано, если это требуют отдельные фиды
				//если закомментировано или пусто, то генерация каждые сутки и при каждом запуске скрипта
			     	//используются в фидах, в которых закомментирован аналогичный параметр фида




		'noDropShip': 1, //не добавлять в ссылку всех товаров сайта признак перехода по нашей рекламе (/?sodship=y)
				     //раскомментировать только! для сайтов конкурентов
				     //используется, если нет аналогичного параметра у фида
					
		//'utmDropShip': 'utm_source=sodship&utm_medium=cpa&utm_campaign=sodship-', 
				     //добавлять в ссылку товаров фида utm-метку фида
				     //в конец utmDropShip добавляется значение параметра 'ext' фида
				     //используется, если нет аналогичного параметра у фида


		//'priorityLev': 1, //уровень приоритета выполнения сканирования, закомментировано - 0,
				      //самый высокий приоритет - 0, если число уровня увеличивается - то сам приоритет уменьшается
				      //если приоритет одинаковый, то сайты сканирутся в порядке следования в этом конфиге
				      //сначала выполняются сканы с максимальным одинаковым приоритетом, затем остальные
				      //пока все сканы не пройдут, новый цикл сканов не начнется
				      //сканы с более низким приоритетом могут не выполнятся и ждать, если час завершения высокоприоритетного скана совпадет с часом начала его выполнения
				      //и наоборот, высокоприоритетные сканы могут не стартовать и ждать, если сейчас выполняются сканы с более низким приоритетом




		//'seed': 2166136261, //стартовое любое положительное целое число, используемое в генераторе Id для товаров (необязательно)
					//если настроен seed и сгенерированы Id, то не менять, иначе все Id товаров изменяться
					//генерация не используется, если Id ищется на страницах и нет поисковых РК
					//зачем менять - могут возникут совпадения (коллизии), тогда можно изменить, 
						//но во всех фидах поменяются Id и удаляться/пересоздадутся поисковые РК

		
		//'startInitFun': function(StartScanFlg){ }, //функция инициализации хеша глобальных переменных ScanCreateFeedsGlobalVars.init и др. перед каждым шагом скана
								//StartScanFlg - флаг первого шага (может повторяться при последующих таймаутах)

		//'endInitFun': function(EndScanFlg){ }, //функция инициализации сохранения переменных или данных после каждого шага скана
								//EndScanFlg - флаг последнего шага (может повторяться при последующих таймаутах)


		'valid_scheme': [	//если указано, то разрешаем только эти протоколы при сканировании страниц и редиректах
		//		'http',   //http только в случае, если нам зачем-то понадобился такой сайт
				'https',
				],


		'no_urlsearchtoLowerCase': 1, //не приводить к нижнему регистру символы после знака ? во всех url
			//если раскомментировано, то:
			//ссылки товаров ?A и ?a теперь разные ссылки на разные товары
			//будут дублироваться ссылки и товары в базе, если окажется что одинаковые ссылки имеют разный регистр после ?
			//во всех обработчиках ссылок CSVSITE addscanUrls skip_query skip_parse parseUrlFun и др.
				//нужно учитывать, что после знака ? ссылки имеют разные регистры


		//Общие ограничения сканирования (если задать некорректно, то можно не добраться до страниц для парсинга)
		//'skip_query': [ 	//не сканировать указанные значения начала pathname, путь без домена и без #
		//		'',
		//		'/print',
		//		],
		//'only_query': [ 	//сканировать только указанные значения начала pathname, путь без домена и без #
		//		'',
		//		'/print',
		//		],
		//можно задать сложный анализ ограничений через функцию (при ответе 1 - разрешить сканировать)
		//нужно учитывать, что pathname - путь без домена и без #, можно применять parse_url(pathname)
		//'scanFun': function(pathname){ var parsed_url = parse_url(pathname); if (!parsed_url) return 0; pathname = parsed_url.protocol + "://" + parsed_url.hostname + parsed_url.port + parsed_url.pathname + parsed_url.search + parsed_url.hash; /*...*/ return 1},
		//Ограничения сканирования (skip_query, only_query, scanFun) не действуют для ссылки SITE

		//'scanSelectors': ['ul.b-product-gallery','div.b-catalog-panel__pagination'], //массив составных селекторов - в каких селекторах страницы искать ссылки для скана и парсинга
						  //ограничиваем области поиска ссылок на странице скана
						  //каждый селектор из массива аналогичен строковому field_value_selector, но не имеет ограничения длины полученного html-кода
						  //Рекомендуется первыми вставлять селекторы с ссылками на товар, затем селекторы со ссылками на следующие каталожные страницы
						  //вместо scanSelectors можно использовать onlyORskipSeparators с noSeparatorsNotScanUrls

		//'onlyORskipSeparators': [  //массив массивов сепараторов, ограничивающих области поиска ссылок на странице (или в scanSelectors) 
		//	[['class="items"'],['В наличии',/Есть в наличии/],['Нет в наличии',/Сообщить когда появится/],function(html){ if (/Есть в наличии/i.test(html)) { return 1 } else { return 0 } }],
		//	[['class="items2"'],[],[]],
		//], 
						  //ограничивает только при наличии хотя бы одного обвязывающего элемента, заданного в onlyORskipSeparators
							//если иное поведение не указано в параметре noSeparatorsNotScanUrls
						  //ищем характерные элементы наличия товара в каталоге, что бы не переходить на ссылки отсутствующего товара
							//либо ищем характерные элементы отсутствия товара в каталоге, что бы не переходить на ссылку отсутсвующего товара
							//либо просто ищем характерные элементы обвязывания нужных ссылок каталога или товара, что бы не добавлять ненужные ссылки
						  //это не селекторы! а сепараторы для разбиения кода по split()
						  //первый сепаратор - начало и конец обвязывающего элемента блока товара (или блока нужных ссылок) на странице каталога (на странице, где парсим новые ссылки)
							//начало - обязательный элемент всегда (любые другие элементы, в т.ч. второго и третьего сепаратора, могут отсутствовать)
							//конец может отсутствовать (тогда конец блоков обвязки поиска ссылок не ищем и не обрезаем, ищем ссылки в блоках, разбитых по началу обвязки)
							//конец - это ближайщий элемент к началу
							//если указан конец и он отсутствует после начала, то выводится предупреждение при отладке
						  //второй - список возможных признаков наличия товара
						  //третий - список возможных признаков отсутствия товара
						  //второй и третий списки (наличия или отсутсвия товара) могут быть пустыми, но не отсутствовать
							//если оба списка пустые, то добавляем все ссылки из найденных (по первому сепаратору) блоков
						  //четвертый элемент, необязательный - функция с параметром (код обвязывающего элемента блока товара) для сложного анализа (например, поиск ограничения цены)
						  //все сепараторы могут быть как строкой, так и регулярным выражением (но не могут быть пустыми строками)
						  //ищем все совпадающие значения сепаратора обвязки товаров и (если заданы, то) первые совпадающие значение сепараторов признаков наличия или отсутствия товара
						  //если после разбиения кода на блоки товара не найден признак наличия товара или найден признак отсутствия товара, то в этом блоке не ищем ссылки
						  //соответственно <a...> не может быть в первом сепараторе (в его составляющих), иначе не будет найдена ссылка!
						  //поиск производится по всей странице или в scanSelectors (если они заданы)
						  //если в каком-то элементе массива onlyORskipSeparators найдено начало/конец обвязыващего блока, то в остальных элементах массива onlyORskipSeparators первые сепараторы также ищем
							//получаем можно сказать аналог scanSelectors - проверяем все элементы массива onlyORskipSeparators и добавляем все найденные обвязывающие блоки (даже если код пересекается)
						  //Добавляются все ссылки со страницы (или из областей scanSelectors), если не найдено ни одного начала/конца обвязывающего блока
							//например, если не найдены сепараторы обвязки списка товаров на странице, то это страница каталога без списка товаров, с которой нужно добавить все найденные ссылки в скан
									//а если найдены сепараторы обвязки списка товаров, то определяем по второму и третьему сепаратору, какие ссылки товаров добавлять
						  //Если не нужно добавлять ссылки со страниц или областей scanSelectors, в которых нет ни одного первого сепаратора, то указать параметр noSeparatorsNotScanUrls


		//'noSeparatorsNotScanUrls': 1, //не добавлять в скан urls со страниц или областей scanSelectors, где НЕ найден ни один сепаратор обвязывающих элементов массива onlyORskipSeparators (первый сепаратор, сепаратор начала/конца обвязки)
						//обычное поведение - добавлять, если не найдены сепараторы обвязки в onlyORskipSeparators
						//этот параметр может присутствовать только при наличии массива onlyORskipSeparators

		//'notScanUrlsOnAnyPages' : 1, //не добавлять в скан urls со страниц никогда (используем, если добавляем urls в обход средств сканера. Но добавлять нужно аккурано, так как ссылки не контролируются стандартными средствами сканера)
							//полностью аналогичен 0 в parseUrls в CSVSITE (но применяется всегда, не только для CSVSITE)


		//'notScanUrlsOnItemPages': 1, //не добавлять в скан urls со страниц, где найден товар хотя бы для одного фида 
					     //либо если хотя бы один фид пропускает на парсинг текущий url, как url товара (при наличии skip_parse only_parse или parseUrlFun у фида)
					     //не сканируем страницу товара на ссылки, кроме одного случая - когда страница товара первая, то есть указана в параметре SITE
					     //зачем - что бы страницы ссылок похожих на url товара или на которых уже обнаружен товар, не сканировать на добавление новых ссылок для скана
						//этот параметр не влияет на перескан сайта
						//этот параметр не имеет значения:
						//если задано 0 в parseUrls в CSVSITE (не парсить вообще никакие страницы для поиска ссылок) или задано 1 в notScanUrlsOnAnyPages
						//этот параметр обрабатывается:
						//если задано 1 в parseUrls в CSVSITE или отсутсвует CSVSITE и notScanUrlsOnAnyPages

		'firstNewPages': 1, //добавлять блоки новых ссылок с новых страниц в начало стека базы еще непроверенных ссылок скана
					//0 или закомментирован - обычный алгоритм добавления ссылок, в конец стека
					//1 - добавления новых ссылок в начало стека
					//то есть следующая для проверки ссылка будет точно из последней просканированной страницы, а не в порядке поступления блоков ссылок со страниц в базу
					//зачем - что бы быстрее находить товары, а не строить сначала карту сайта на специфических сайтах
					//это важный универсальный параметр, позволящий сразу получать страницы товара, а не ждать построения всей карты сайта
					//особенно на сайтах типа vinkod, где нет страниц каталога типа 1 2 ... 10, а есть одностраничные разделы с переходом к подразделу, с большой вложенностью подразделов
					//внутри страниц ссылки добавляются в обычном порядке без реверса (если не указан reverseNewUrls), а найденные новые страницы (точнее ссылки на них) добавляются перед предыдущими (которые тоже еще не сканировались)
					//для универсальной работы этого параметра на любых сайтах, особенно со структурой страниц каталога типа 1 2 ... 10,
					//рекомендуется настроить параметры notScanUrlsOnItemPages scanSelectors, что бы на страницах, где есть ссылки на товар, в первую очередь обрабатывались ссылки на товар, а потом каталожные
					//иначе может привести к тому, что наоборот на сайтах со структурой 1 2 ... 10 сначала построит карту, потом будет с конца добавлять товары


		//'reverseNewUrls': 1, //добавлять новые ссылки с новых страниц в обратном порядке
					//0 или закомментирован - обычный алгоритм добавления ссылок со страницы, в прямом порядке
					//1 - если нужно, что бы ссылки со страниц добавлялись в стек в реверсном порядке
					//например, если на каталожных страницах новые каталожные ссылки расположены вверху, а внизу ссылки на товар,
					//то при firstNewPages будут сначала сканироваться ссылки на товар, потом переходить к каталожным ссылкам


		//'shortWords': [], //список коротких слов в поисковых РК сайта, которые нельзя удалять из текстов и КС
					//без него из поисковых РК удаляются все слова только с буквами, у которых меньше 4-х символов (кроме некоторых автоматических исключений)
					//регистр слов не имеет значения


		'repeat_errors': [    //для этих ошибок повторно делать запрос согласно MAX_TRIES (если сайт перегружен например)
				504,	//Gateway Timeout
				503,	//Service Unavailable
				500,	//Internal Server Error
				0,  	//наверно это когда nginx временно блокирует ip (отказ в обслуживании)
				],
		//'MAX_TRIES': 10,	//число попыток запроса страницы (по умолчанию 5)
		//'skip_errors': [      //эти ошибки считать нормальным ответом (если много страниц с таким ответом)
		//		404,
		//		],
		//'REQUEST_DELAY': 300,	//задержка при ошибках из repeat_errors, если возникает ошибка 0 (отказ в обслуживании) и мало страниц обрабатывается, то поиграться с задержкой (хотя проще отказаться)
		//'IGNORE_EMPTY_CONTENT_TYPE': true, //если много страниц с ошибкой "пустой content-type"
		//'MAX_CHECKED_URLS': 20, //максимальное кол-во ссылок для скана (в том числе редиректов), что бы отключить - закомментировать или 0
					//этот параметр не влияет на перескан сайта
					//в тестах его можно использовать для завершения текущего скана и создания уже отсканированных фидов, если долго выполняется и нужно посмотреть результат
					//так нельзя завершать в действующих проектах, иначе часть товара в фидах и РК остановяться

		//'repeaterUrl': 'http://robosoft.sale-storm.com/', //ссылка на директорию со скриптом-ретранслятором 
				     //для сайтов, которые блокируют поисковые запросы (убираем user-agent робота, но IP должен остаться гугла)


		//'pausedFeeds': '', //идентификаторы настроенных фидов, обновление которых приостановлено, через запятую
				     //используется, если созданы файлы фида и/или РК и нам не нужно дальше их обновлять
				     //файлы и РК не удаляются и не обновляются в приостановленных фидах
				     //родительские фиды, у которых активны дочерние фиды не могут быть остановлены
				     //можно остановить/зарезервировать все фиды скана сайта

		//'Debug_On': 1, //включить отладочную информацию в режиме исполнения (в режиме просмотра она включена всегда)
				//0 или закомментирован - отключен в режиме исполнения
				//1 - стандартный уровень
				//2 - более подробно (с кодами успешных ответов сайта и длиной страниц) во всех режимах работы скрипта
				//3 - еще более подробно (с найденными селекторами scanSelectors и добавленными ссылками на странице) во всех режимах работы скрипта
				//4 - расширенный уровень отладки (с кодами успешных ответов сайта и содержимым страниц) во всех режимах работы скрипта
				//этот параметр не влияет на перескан сайта
				//то есть его можно включить на любом шаге выполнения скана


		'No_Critical_Errors': 0, //критические ошибки, которые не высылаются
				//если закомментировано или 0, то все критические ошибки высылаем
				//типовой вариант для сайта 0
				//типовой вариант для фида 2 - указывать в фиде, если этот фид может быть пустым (могут быть отдельные пустые фиды или РК),
					//при этом, если вообще не найдет ни одной страницы для всех фидов, у которых нет No_Critical_Errors = 1, ошибка парсинга скана будет выслана,
					//то есть ошибка парсинга скана сайта контролируется всегда (каждый скан должен иметь ненулевое количество страниц фидов)
			        //ошибка парсинга текущего скана сайта - это отсутствие найденных страниц для всех фидов скана, у которых не указано No_Critical_Errors = 1
				//текущий скан сайта - скан выполняемых (генерируемых) одновременно фидов (на основании их ограничений по времени выполнения и таймаутов)
				//используется в фидах, в которых закомментирован аналогичный параметр фида


		'Write_emptyFeed_File': 1, //записывать/перезаписывать пустой файл фида
				//если закомментировано или 0, то не записывать/перезаписывать пустой файл фида
		                //рабочий - 2 (если есть хотя бы один товар в фидах (нет ошибок парсинга), не останавливать рекламу, не удалять товары из файла, если пустой фид),
					//иначе 1, если предполагается регулярно автоматически останавливать и запускать кампании на какие-либо группы товаров,
						//то есть важно сразу останавливать рекламу отдельных групп товаров, к которым привязаны их РК
			     	//используется в фидах, в которых закомментирован аналогичный параметр фида



		//'soft_shutdown': 1, //полное мягкое отключение сервисов скана
					//запись пустых файлов фидов (в т.ч. pausedFeeds) и выключение (без удаления) всех групп поисковых РК
					//то же самое присходит при окончании срока действия OPT-аккаунтов




		//настройки одного фида (начало блока)
		//можно копировать, изменяя значение ключа (id0) в хеше фида и значение параметра в его хеше 'ext'
		"id0":{
			//'ext': '', // уникальное расширение файла фида в пределах одного сайта (если фидов несколько в сайте)
					//автоматически назначается значение ключа хеша этого фида
					//можно указать что-то другое, но тогда должен быть уникальный (если фидов несколько в сайте)
					//если уже настроено, то лучше не менять (измениться ссылка фида для загрузки в мерчант и utm-метка фида utmDropShip)



			//'parentFeed': '', //идентификатор (ключ) родительского фида этого скана, из которого можно брать поля типа parentFeed
					    //поля родительского фида указываются в field_value_selector, а тип поля в field_type
					    //если есть этот параметр, то timeHours и startDays берутся у родительского фида и здесь игнорируются
					    //родительский фид - это любой предыдущий фид того же сайта/скана, расположенный до дочернего
					    //дочерний фид запускается всегда одновременно с родительским


			//'childAddByRank': 1, //добавлять страницу в фид, если не один из старших (предыдущих) детей
							//(у которых есть childAddByRank) или родитель не добавили эту страницу
						//параметр только для дочерних фидов (можно использовать только, если указан parentFeed)
						//гарантирует непересечение между родителем и всеми детьми с параметром childAddByRank
						//например, если нужно первые 200 страниц добавить в первый фид, а остальные во второй и т.д.
						//если однотипные товары нужно добавить в разные кампании, 
							//что бы проверить эффективность разных стратегий РК
						//либо при почти разных настройках конфига быть уверенным, что они точно не пересекутся
						//если одинаковые конфиги у фидов - обязательно указывать MAX_ADD_URLS
							//иначе дети никогда не получат записи!

						//страница может быть добавлена, если предыдущие дочерние (с childAddByRank) и родительский фиды ее не добавили
						//то есть, гарантируется, что эту страницу никто из старших, участвущих в "игре", не добавлял
						//другие дети, более младшие (следующие в конфиге) и более старшие,
							//могут добавлять всегда, если у них нет параметра childAddByRank
						//то есть, дети у которых нет childAddByRank - не участвуют в "игре", работают как обычно
						//родитель пишет всегда (если он сам не child с параметром childAddByRank), 
							//а в игре участвуют дети у которых есть параметр childAddByRank
						//поэтому важно понимать, когда указывать MAX_ADD_URLS (при одинаковых конфигах), а когда не указывать (при разных конфигах, на разные группы товара и пр.)
						//если родитель A сам является участником игры другого родителя B, то если запись сделал старший родитель (B)
							//или его старшие дети по отношению к A, то не только родитель A, но и его дети не смогут писать.
							//то есть в игре участвует вся цепочка родительских подчинений


			//'timeHours': '', //часы генерации фида сайта (через запятую) по времени AdWords-аккаунта клиента
					//если закомментированы, то совпадают с часами генерации сайта
					//если пусто, то это 0 часов
					//если в строке указано 'test', то в любой час запускать и создавать файлы, но только в режиме просмотра
					//Примечание по поводу добавления/удаления режима 'test':
					//если после запуска и перед/при завершении скрипта изменить "на лету" параметр на 'test' или наоборот,
					//то не запишуться фиды, которые должны были создаться до изменения параметра.
					//то есть, нужно дождаться полного завершения и сохранения фидов (если это важно),
					//прежде чем менять в timeHours режим, в котором сохраняются фиды (выполнение/просмотр)


			//"all_fields_not_required": 1, //все поля фида необязательны (для тестирования, 0 или 1)
					//параметр используется только если вычисленный timeHours для фида имеет значение test (иначе параметр игнорируется)
					//если закомментирован, то совпадают с параметром all_fields_not_required сайта


			//'startDays': '', //дни месяца генерации фида (через запятую в строке)
					//если закомментированы, то совпадают с днями генерации (startDays) сайта
					//если пусто, то генерируем фид каждые сутки и при каждом запуске скрипта



			'file_type': ['.html','.ga.txt'], //типы расширения файлов записи полей фида (['.html','.ga.xml','.ga.txt','.ga.tsv','.yml.xml','.yrl.xml','.ycar.xml','.ya.tsv'])
					     	//параметр используется, если закомментирован аналогичный параметр поля
						//в настоящий момент поддерживаются ['.html','.ga.xml','.ga.txt','.ga.tsv']

			'htmlencode': 1, // восстанавливать html-сущности и не вставлять CDATA в значение поля (для csv всегда 0 и CDATA не вставляется)
					//html-сущности удаляются при парсинге страниц товара
					//и восстанавливаются перед записью в файл, если htmlencode 1, иначе вставляется CDATA.
					//CDATA вставляется только если есть html-сущности в значении поля.
				     	//параметр используется, если закомментирован аналогичный параметр поля фида



			//'noDropShip': 1, //не добавлять в ссылку всех товаров фида сайта признак перехода по нашей рекламе (/?sodship=y)
						//можно раскомментировать только! для сайтов конкурентов
						//если закомментирован, то совпадает с noDropShip сайта



			//'utmDropShip': 'utm_source=sodship&utm_medium=cpa&utm_campaign=sodship-', 
					     //добавлять в ссылку товаров фида utm-метку фида
					     //в конец utmDropShip добавляется значение параметра 'ext' фида
					     //если закомментирован, то совпадает с utmDropShip сайта



			//'ftp': { login: 'login', password: 'password', host: 'host.com', directory: '/', passive_mode: 1, ssl_mode: 0, files_types: ['.html','.ga.xml','.ga.txt','.ga.tsv','.yml.xml','.yrl.xml','.ycar.xml','.ya.tsv'], createzip: 1, zipfilename: ''},
			//'ftp': { login: '', password: '', host: 'uploads.google.com', directory: '/', passive_mode: 1, ssl_mode: 0, files_types: ['.ga.txt'], createzip: 0, zipfilename: ''},
				 //параметры передачи заархивированных фидов по фтп (например, для отслеживания цен конкурентов)
				       //после создания фида передавать его по фтп
				 //passive_mode рекомендуется всегда включать
				 //createzip передавать архивом - 1, или неархивированные файлы - 0
				 //название zip используется IdName.Id.feed.[feedId|ext].zip (как в названии файла фида)
					//либо если есть непустое уникальное zipfilename (среди любых фидов аккаунта)
				 //files_types - фиды с какими расширениями передавать, используем один или несколько типов ['.html','.ga.xml','.ga.txt','.ga.tsv','.yml.xml','.yrl.xml','.ycar.xml','.ya.tsv']



			//ОТЛИЧИТЕЛЬНЫЕ ПРИЗНАКИ СТРАНИЦ С ТОВАРАМИ (если есть notScanUrlsOnItemPages, то включать только УНИКАЛЬНЫЕ признаки страниц карточки товара!)
			//'skip_parse': [ 	//не парсить указанные значения начала pathname, путь без домена и без #
			//		'',
			//		'/print',
			//		],
			//'only_parse': [ 	//парсить только указанные значения начала pathname, путь без домена и без #
			//		'',
			//		'/print',
			//		],
			//'parseUrlFun': function(url){ var parsed_url = parse_url(url); if (!parsed_url) return 0; url = parsed_url.protocol + "://" + parsed_url.hostname + parsed_url.port + parsed_url.pathname + parsed_url.search + parsed_url.hash; /*...*/ return 1},
					//можно задать сложный анализ ограничений парсинга фида через функцию (при ответе 1 - разрешить парсить)
					//например, что бы сохранять по шаблону только нужные ссылки парсинга товара
					//нужно учитывать, что url включает протокол и домен, можно применять parse_url(url)
					//вызывается до парсинга страницы по полям фида (одновременно с skip_parse и only_parse)


			//'checkFieldsFun': function(fields,url,feedId){ if (fields && (fields['product_type'] == '/*...*/' ))  return 1},
					//перед записью готовой карточки товара можно сделать анализ всех полей (при ответе 1 - разрешить запись)
					//например, что бы записывать только определенные категории товаров
					//вызывается после парсинга страницы по полям фида, если все поля удовлетворяют условиям


			//'SKIP_FIRST_URLS': 20, //сколько первых товарных позиций пропустить, прежде чем начать добавлять товары в фид и РК
					         //считаются первые ссылки, которые прошли все условия (в т.ч. checkFieldsFun), являются товарными и готовы к записи
						 //например, нам нужно сейчас только 10 000, пропустить пока еще 10 000, и записать в другой фид по тем же настройкам еще 10 000


			//'MAX_ADD_URLS': 20, //максимальное кол-во ссылок для добавления в фид при парсинге товарных страниц, что бы отключить - закомментировать или 0
					      //если подключена поисковая РК, то отслеживается добавление активных групп объявлений, а не добавление в фид



			//'No_Critical_Errors': 2, //критические ошибки, которые не высылаются
					      //1 - никогда не отправлять - не отправлять ошибки отсутствия найденных страниц для этого фида, вследствие чего нет созданных записей, в т.ч. не отправлять при ошибке парсинга скана сайта (так же мы не получим ошибки отсутствия созданных записей в фиде или поисковой РК)
							//использовать, если могут отсутствовать в скане все страницы для этого фида из-за каких либо ограничений
							//рекомендуется установить Write_emptyFeed_File = 1 вместо Write_emptyFeed_File = 2, если у фида установлено No_Critical_Errors = 1
							//фид(ы) с параметром No_Critical_Errors = 1 не учитываются в ошибке парсинга, то есть, не контролируется и не имеет значения пустой или нет этот фид
								//например, если это единственный или любой другой фид сайта или скана сайта, для которого не нужно контролировать и выдавать ошибки
					      //2 - не отправлять ошибки отсутствия найденных страниц для этого фида, вследствие чего нет созданных записей, но отправлять при ошибке парсинга скана сайта (так же мы не получим ошибки отсутствия созданных записей в фиде или поисковой РК)
							//использовать, если могут отсутствовать в скане все страницы для этого фида из-за каких либо ограничений
						      //игнорируется No_Critical_Errors = 2 (то есть высылается ошибка), если есть ошибка скана сайта (то есть для всех фидов скана, у которых не указано No_Critical_Errors = 1, не найдены страницы товаров)
					      //3 - не отправлять ошибки отсутствия созданных записей в файлах фида или поисковой РК (при этом отправлять ошибки отсутствия найденных страниц)
							//использовать, если могут отсутствовать все созданные записи из-за каких либо ограничений,
							//но страницы для этого фида обязательно должны присутствовать всегда,
							//то есть, по любому, отправлять ошибки отсутствия найденных страниц для этого фида
					      //4 - не отправлять ошибки отсутствия созданных записей в файлах фида (при этом отправлять ошибки отсутствия найденных страниц или ошибки отсутствия созданных записей в РК)
							//использовать, если могут отсутствовать все созданные записи в файлах фида из-за каких либо ограничений,
							//но страницы для этого фида обязательно должны присутствовать всегда (а также, записи в поисковой РК, если настроены),
							//то есть, по любому, отправлять ошибки отсутствия найденных страниц для этого фида и отсутствия созданных записей в поисковой РК
					      //5 - не отправлять ошибки отсутствия созданных записей в поисковой РК (при этом отправлять ошибки отсутствия найденных страниц или ошибки отсутствия созданных записей в файлах фида)
							//использовать, если могут отсутствовать все созданные записи в поисковой РК из-за каких либо ограничений,
							//но страницы для этого фида обязательно должны присутствовать всегда (а также, записи в файлах фида, если настроены),
							//то есть, по любому, отправлять ошибки отсутствия найденных страниц для этого фида и отсутствия созданных записей в файлах фида
					      //0 - все критические ошибки высылаем
					      //типовой вариант для сайта 0
					      //типовой вариант для фида 2 - указывать в фиде, если этот фид может быть пустым (могут быть отдельные пустые фиды или РК),
							//при этом, если вообще не найдет ни одной страницы для всех фидов, у которых нет No_Critical_Errors = 1, ошибка парсинга скана будет выслана,
							//то есть ошибка парсинга текущего скана сайта контролируется всегда (каждый скан должен иметь ненулевое количество страниц фидов)
					      //ошибка парсинга текущего скана сайта - это отсутствие найденных страниц для всех фидов скана, у которых не указано No_Critical_Errors = 1
					      //текущий скан сайта - скан выполняемых (генерируемых) одновременно фидов (на основании их ограничений по времени выполнения и таймаутов)
					      //если закомментирован, то совпадает с No_Critical_Errors сайта


			//'Write_emptyFeed_File': 1, //записывать/перезаписывать пустой файл фида
					      //2 - записывать/перезаписывать пустой файл фида, если нет ошибок парсинга текущего скана сайта
							//если категорически нельзя продолжать рекламу товара, на который окончился сезон,
							//	или есть несколько кампаний, которые нужно оперативно останавливать/запускать совместно или поочередно
							//при ошибке парсинга не удалит текущий (полноценный) файл фида, фид обновится когда переделаем парсинг сайта
							//не учитываются в ошибке парсинга фиды с No_Critical_Errors = 1 (но при этом, эти фиды, имеющие Write_emptyFeed_File = 2, записывают свой пустой файл, анализируя ошибку парсинга других фидов (у которых не указано No_Critical_Errors = 1))
								//например, если у единственного фида сайта установлено No_Critical_Errors = 1 и Write_emptyFeed_File = 2, то у скана сайта никогда не будет ошибок парсинга скана, и всегда будет записываться пустой файл
							//рекомендуется установить Write_emptyFeed_File = 1 вместо Write_emptyFeed_File = 2, если у фида установлено No_Critical_Errors = 1
					      //1 - записывать/перезаписывать пустой файл фида всегда
							//если категорически нельзя продолжать рекламу товара, на который окончился сезон,
							//	или есть несколько кампаний, которые нужно оперативно останавливать/запускать совместно или поочередно
							//недостаток - при ошибке парсинга не найдет записей и остановит рекламу, пока не переделаем парсинг сайта
					      //0 - не записывать/перезаписывать пустой файл фида
							//если возникла ошибка парсинга, то не удалит текущий (полноценный) файл фида
							//если нет товара, то не переписывает файл и продолжает рекламировать из старого полного фида, пока сама система не остановит рекламу
				              //рабочий - 2 (если найден хотя бы один товар в фидах (нет ошибок парсинга), не останавливать рекламу, не удалять товары из файла, если пустой фид),
							//иначе 1, если предполагается регулярно автоматически останавливать и запускать кампании на какие-либо группы товаров,
								//то есть важно сразу останавливать рекламу отдельных групп товаров, к которым привязаны их РК
					      //если закомментирован, то совпадает с Write_emptyFeed_File сайта




			"id1":{
//поле для передачи цены в рекламу, невидимое в фиде
//одновременно, это поле сохраняет нативный прайс для модификации валюты цены в фиде
				"field_name": 'GASprice',
//				"field_value_selector": '.b-product-cost__price',
				"field_value_selector": '.b-layout',
				"field_type": 'html',
//				"parsing_type": 'nativeprice',
				"parsing_type": 'text',
				"field_required": 1,
				"field_visible": 1,
				//"field_length": 0,
				//"field_replace": ['^.*?((?:(?:[\\d])|(?:[\\.\\,]\\d))[\\d\\.\\,\\s]*).*$', '$1'],
				//"field_Fun": function(html, selector, url, field_name, fields){ return html.replace(/\s+/g, '') + ' грн.'; }, 
				"field_Fun": function(html, selector, url, field_name, fields){ 

alert(html)

return html.replace(/\s+/g, '') + ' грн.'; }, 
				//'keyword': 'KeyWord',
			},



		},
		//настройки одного фида (конец блока)








	},
	//настройки сканирования и парсинга одного сайта (конец блока)
]












